import{_ as s,o as a,c as n,O as l}from"./chunks/framework.eb2f041d.js";const A=JSON.parse('{"title":"安装说明","description":"","frontmatter":{},"headers":[],"relativePath":"install.md","filePath":"install.md"}'),e={name:"install.md"},o=l(`<h1 id="安装说明" tabindex="-1">安装说明 <a class="header-anchor" href="#安装说明" aria-label="Permalink to &quot;安装说明&quot;">​</a></h1><ul><li>任何完整的web项目其实都需要配置两个地址，1 接口地址；2 数据库地址</li><li>clone好项目后，首先要确定您的服务器地址（虚拟机地址也行），只要能ssh访问即可</li><li>无论是docker的方式还是前后端分别单独运行的方式，都需要配置前端的接口请求地址，在web/.env.pro中，若前端以开发模式运行，则去web/.env.div中修改</li><li>具体修改字段 =&gt; VITE_API_BASEPATH=<a href="http://192.168.85.128:3000/" target="_blank" rel="noreferrer">http://192.168.85.128:3000/</a></li><li>docker方式需要再次打包来让刚修改的接口地址生效，进入到web目录中，执行npm run build</li><li>修改完接口地址后，再参照下面的帮助文档进行，不出意外的话，代码应该很稳妥的运行了~</li><li>数据库地址在这配置，server/src/config.ts，独立运行就设置一下ip，docker部署的话，直接写mongoUrl: &#39;mongodb://mongo:27017/vitetest&#39;就行</li></ul><h2 id="docker集成" tabindex="-1">docker集成 <a class="header-anchor" href="#docker集成" aria-label="Permalink to &quot;docker集成&quot;">​</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 下载项目</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://gitee.com/bigjbigj/zj-admin.git</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 自行安装docker.io和docker-compose</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入项目根目录(docker-compose.yml所在目录)</span></span>
<span class="line"><span style="color:#FFCB6B;">docker-compose</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">up</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入到mongo所在容器，027为容器id</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">027</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/bin/bash</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 初始化基础数据</span></span>
<span class="line"><span style="color:#FFCB6B;">mongorestore</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vitetest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./dump/vitetest</span></span></code></pre></div><p>详细配置都在docker-compose.yml中</p><ul><li>通过ip:8081 访问mongo-express（这个没啥用，就是网页版的mongo数据库管理程序）</li><li>通过ip:8092 访问项目页面</li><li>通过ip:3000/swagger/user 访问用户管理swagger，其他的也是一样</li></ul><h2 id="独立运行" tabindex="-1">独立运行 <a class="header-anchor" href="#独立运行" aria-label="Permalink to &quot;独立运行&quot;">​</a></h2><h3 id="前端" tabindex="-1">前端 <a class="header-anchor" href="#前端" aria-label="Permalink to &quot;前端&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 下载项目</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://gitee.com/bigjbigj/zj-admin.git</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入到web文件夹中</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./web</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># node版本14+</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装依赖</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 运行项目</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span></code></pre></div><h3 id="后端" tabindex="-1">后端 <a class="header-anchor" href="#后端" aria-label="Permalink to &quot;后端&quot;">​</a></h3><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 下载项目</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://gitee.com/bigjbigj/zj-admin.git</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入到server文件夹中</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./server</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># node版本14+</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装依赖</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 运行项目</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dev</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 初始化数据，需要自行安装和配置mongo数据库（必要，无基础数据项目会跑不起来~）</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入mongo文件夹</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 双击import.sh还原数据</span></span></code></pre></div>`,11),p=[o];function t(c,i,r,y,C,d){return a(),n("div",null,p)}const m=s(e,[["render",t]]);export{A as __pageData,m as default};
